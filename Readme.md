# PHP Demo project serialization

Демонстрационный проект по работе с PHP в части сериализации / десериализации данных.

## Исходная постановка
Необходимо реализовать набор классов для передачи сообщений в текстовой среде (HTTP запросы к примеру).
Классы для реализации:
- Message
-- Meta
-- Event
-- Payload

Данные классы должны сериализоваться в json строку, посредством метода serialize и десерилиазоваться из строки обратно в объект.
2 базовых теста на проверку
- пустой объект
- объект с данными

Каждый объект может содержать элементы разных классов, а так же nested объекты и массивы других объектов.

Результатом тестового задания должно быть:
- Классы Message, Meta, Event, Payload
- UnitTest класс MessageEntityTest с двумя тест методами (пустой и с данными), критерий приемки $this->assertEquals($message, Message::deserialize($message->serialize());

## Реализация
Функционал по сохранению и восcтановлению свойств объекта (в том числе и мета-данных) обеспечивается встроенными функциями serialize и unserialize. Данные функции помещены в функции-обертки в абстрактном классе JsonDeserializator.

Класс сообщений наследуется от JsonDeserializator и получает возможность сохранять и восстанавливать состояние.

## Проверка
Для проверки созданы две тестовые функции. Внутри функции с данными тестируется два сценария - на основе данных инициализации данных в конструкторе Message и при добавлении дополнительного поля, сохраняющего класс.
После восстановления объекта так же проверяется работа метода из nested-класса (dynamic property).

## Использование
Для проверки работоспособности предлагается использовать docker-контейнер.
Сначала надо собрать контейнер:
> docker build --pull --rm -f "Dockerfile" -t phpdemoserialize:latest "."

Далее запустить контейнер и проверить результат исполнения теста:
> docker run --rm -it  phpdemoserialize:latest 

Ожидаемый вывод в консоли:
> Testing is done

Что говорит о том, что все тесты отработали корректно.